{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nexport function SyncZoom({\n  concerts,\n  setZoomLevel,\n  setMapZoom\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (!concerts || concerts.length === 0) return;\n\n    // Build bounds from concerts\n    const bounds = L.latLngBounds(concerts.map(c => [c.lat, c.lng]));\n\n    // 1) Fit bounds so all concerts are visible\n    map.fitBounds(bounds, {\n      padding: [50, 50]\n    });\n\n    // 2) After map has fitted, recenter to bounds center\n    const center = bounds.getCenter();\n    map.panTo(center, {\n      animate: true,\n      duration: 1\n    });\n    const handleZoom = () => {\n      const z = map.getZoom();\n      setMapZoom(z);\n      if (z < 3) setZoomLevel(\"continent\");else if (z < 6) setZoomLevel(\"country\");else if (z < 10) setZoomLevel(\"city\");else setZoomLevel(\"city\");\n    };\n    map.on(\"zoomend\", handleZoom);\n    handleZoom();\n    return () => {\n      map.off(\"zoomend\", handleZoom);\n    };\n  }, [map, concerts, setZoomLevel, setMapZoom]);\n  return null;\n}\n_s(SyncZoom, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = SyncZoom;\nvar _c;\n$RefreshReg$(_c, \"SyncZoom\");","map":{"version":3,"names":["useEffect","useMap","L","SyncZoom","concerts","setZoomLevel","setMapZoom","_s","map","length","bounds","latLngBounds","c","lat","lng","fitBounds","padding","center","getCenter","panTo","animate","duration","handleZoom","z","getZoom","on","off","_c","$RefreshReg$"],"sources":["C:/Users/nhgiang/Documents/personal/resonify/frontend/src/components/MapView/SyncZoom.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\n\r\nexport function SyncZoom({ concerts, setZoomLevel, setMapZoom }) {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    if (!concerts || concerts.length === 0) return;\r\n\r\n    // Build bounds from concerts\r\n    const bounds = L.latLngBounds(concerts.map(c => [c.lat, c.lng]));\r\n\r\n    // 1) Fit bounds so all concerts are visible\r\n    map.fitBounds(bounds, { padding: [50, 50] });\r\n\r\n    // 2) After map has fitted, recenter to bounds center\r\n    const center = bounds.getCenter();\r\n    map.panTo(center, { animate: true, duration: 1 });\r\n\r\n    const handleZoom = () => {\r\n      const z = map.getZoom();\r\n      setMapZoom(z);\r\n\r\n      if (z < 3) setZoomLevel(\"continent\");\r\n      else if (z < 6) setZoomLevel(\"country\");\r\n      else if (z < 10) setZoomLevel(\"city\");\r\n      else setZoomLevel(\"city\");\r\n    };\r\n\r\n    map.on(\"zoomend\", handleZoom);\r\n    handleZoom();\r\n\r\n    return () => {\r\n      map.off(\"zoomend\", handleZoom);\r\n    };\r\n  }, [map, concerts, setZoomLevel, setMapZoom]);\r\n\r\n  return null;\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,MAAM,QAAQ,eAAe;AACtC,OAAOC,CAAC,MAAM,SAAS;AAEvB,OAAO,SAASC,QAAQA,CAAC;EAAEC,QAAQ;EAAEC,YAAY;EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EAC/D,MAAMC,GAAG,GAAGP,MAAM,CAAC,CAAC;EAEpBD,SAAS,CAAC,MAAM;IACd,IAAI,CAACI,QAAQ,IAAIA,QAAQ,CAACK,MAAM,KAAK,CAAC,EAAE;;IAExC;IACA,MAAMC,MAAM,GAAGR,CAAC,CAACS,YAAY,CAACP,QAAQ,CAACI,GAAG,CAACI,CAAC,IAAI,CAACA,CAAC,CAACC,GAAG,EAAED,CAAC,CAACE,GAAG,CAAC,CAAC,CAAC;;IAEhE;IACAN,GAAG,CAACO,SAAS,CAACL,MAAM,EAAE;MAAEM,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE;IAAE,CAAC,CAAC;;IAE5C;IACA,MAAMC,MAAM,GAAGP,MAAM,CAACQ,SAAS,CAAC,CAAC;IACjCV,GAAG,CAACW,KAAK,CAACF,MAAM,EAAE;MAAEG,OAAO,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAE,CAAC,CAAC;IAEjD,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvB,MAAMC,CAAC,GAAGf,GAAG,CAACgB,OAAO,CAAC,CAAC;MACvBlB,UAAU,CAACiB,CAAC,CAAC;MAEb,IAAIA,CAAC,GAAG,CAAC,EAAElB,YAAY,CAAC,WAAW,CAAC,CAAC,KAChC,IAAIkB,CAAC,GAAG,CAAC,EAAElB,YAAY,CAAC,SAAS,CAAC,CAAC,KACnC,IAAIkB,CAAC,GAAG,EAAE,EAAElB,YAAY,CAAC,MAAM,CAAC,CAAC,KACjCA,YAAY,CAAC,MAAM,CAAC;IAC3B,CAAC;IAEDG,GAAG,CAACiB,EAAE,CAAC,SAAS,EAAEH,UAAU,CAAC;IAC7BA,UAAU,CAAC,CAAC;IAEZ,OAAO,MAAM;MACXd,GAAG,CAACkB,GAAG,CAAC,SAAS,EAAEJ,UAAU,CAAC;IAChC,CAAC;EACH,CAAC,EAAE,CAACd,GAAG,EAAEJ,QAAQ,EAAEC,YAAY,EAAEC,UAAU,CAAC,CAAC;EAE7C,OAAO,IAAI;AACb;AAACC,EAAA,CAnCeJ,QAAQ;EAAA,QACVF,MAAM;AAAA;AAAA0B,EAAA,GADJxB,QAAQ;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}