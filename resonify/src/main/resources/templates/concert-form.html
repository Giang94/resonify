<div th:fragment="concertForm (concert, theaters, actionUrl, submitLabel)">
	<div style="max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
		<form th:action="@{${actionUrl}}" th:object="${concert}" method="post">
			
			<div style="margin-bottom: 15px;">
				<label for="theater">Theater:</label>
				<select id="theater" th:field="*{theater}" required class="searchable-select"
				        style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;">
					<option value="">--Select Theater--</option>
					<option th:each="t : ${theaters}" th:value="${t.id}"
					        th:text="${t.name + ' (' + t.city.name + ', ' + t.city.country.name + ')'}"></option>
				</select>
			</div>
			
			<div style="margin-bottom: 15px;">
				<label for="name">Concert Name:</label>
				<input type="text" id="name" th:field="*{name}" required
				       style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;"/>
			</div>
			
			<div style="margin-bottom: 15px;">
				<label for="date">Date:</label>
				<input type="date" id="date"
				       th:field="*{date}"
				       required
				       style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;" />
			</div>
			
			<div style="margin-bottom: 15px;">
				<label for="ticket">Ticket Info:</label>
				<input type="text" id="ticket" th:field="*{ticket}"
				       style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;"/>
			</div>
			
			<div style="margin-bottom: 15px;">
				<label for="artists">Artists (comma separated):</label>
				<input type="text" id="artists" th:field="*{artists}"
				       style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;"/>
			</div>
			
			<!-- Dynamic photo inputs -->
			<div style="margin-bottom: 15px;" class="photo-section">
				<label>Photos:</label>
				<div id="photo-fields">
					<!-- Existing photos -->
					<div th:each="photo, iterStat : ${concert.photos}"
					     style="display:flex; flex-direction:column; margin-bottom:10px;">
						<div style="display:flex; align-items:center;">
							<!-- Bind directly to the list element -->
							<input type="text" th:field="*{photos[__${iterStat.index}__]}" style="flex:1;"/>
							<button type="button" class="delete-photo" style="margin-left:8px; cursor:pointer;">âœ–
							</button>
						</div>
						<img th:src="${photo}" style="max-width:100px; margin-top:5px;"/>
					</div>
				</div>
				<button id="add-photo-btn" type="button"
				        style="margin-top:10px; padding:6px 12px; background-color:#1976d2; color:white; border:none; border-radius:4px; cursor:pointer;">
					+ Add Photo
				</button>
			</div>
			
			<button type="submit"
			        style="padding: 10px 20px; background-color: #1976d2; color: white; border: none; border-radius: 4px; cursor: pointer; width: 100%;"
			        th:text="${submitLabel}">
			</button>
		</form>
	</div>
</div>
